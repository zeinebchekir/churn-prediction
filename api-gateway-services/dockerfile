# Étape 1 : Utiliser Node.js
FROM node:22

# Étape 2 : Définir le dossier de travail
WORKDIR /app

# Étape 3 : Copier les fichiers et installer les dépendances
COPY package.json package-lock.json ./
RUN npm install

# Étape 4 : Copier le code source
COPY . .
ENV SERVICE_URI=api-gateway-services:50051
# Étape 5 : Exposer le port et lancer l'application
EXPOSE 3000
CMD ["npm", "run", "start:dev"]
